{"remainingRequest":"/Users/weiqu/Documents/GitApp/jj-messagebox/node_modules/babel-loader/lib/index.js!/Users/weiqu/Documents/GitApp/jj-messagebox/node_modules/eslint-loader/index.js??ref--13-0!/Users/weiqu/Documents/GitApp/jj-messagebox/src/jj-messagebox/toast/index.js","dependencies":[{"path":"/Users/weiqu/Documents/GitApp/jj-messagebox/src/jj-messagebox/toast/index.js","mtime":1636094952985},{"path":"/Users/weiqu/Documents/GitApp/jj-messagebox/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weiqu/Documents/GitApp/jj-messagebox/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/weiqu/Documents/GitApp/jj-messagebox/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3dlaXF1L0RvY3VtZW50cy9HaXRBcHAvamotbWVzc2FnZWJveC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHRvYXN0IGZyb20gJy4vamotdG9hc3QudnVlJzsKdmFyIGpqVG9hc3QgPSBWdWUuZXh0ZW5kKHRvYXN0KTsgLy/liJvlu7p2beWunuS+i+eahOaehOmAoOWHveaVsAoKdmFyIGdldERhdGEgPSBmdW5jdGlvbiBnZXREYXRhKHRvYXN0RGF0YSwgdHlwZSwgZHVyYXRpb24pIHsKICB2YXIgZGF0YSA9IHt9OwogIHZhciBpc1RvYXN0RGF0YU51bGwgPSB0b2FzdERhdGEgPT09IHVuZGVmaW5lZCB8fCB0b2FzdERhdGEgPT09IG51bGw7CiAgdmFyIGlzVHlwZU51bGwgPSB0eXBlID09PSB1bmRlZmluZWQgfHwgdHlwZSA9PT0gbnVsbDsKICB2YXIgaXNEdXJhdGlvbk51bGwgPSBkdXJhdGlvbiA9PT0gdW5kZWZpbmVkIHx8IGR1cmF0aW9uID09PSBudWxsOwoKICBpZiAoaXNUb2FzdERhdGFOdWxsICYmIGlzVHlwZU51bGwgJiYgaXNEdXJhdGlvbk51bGwpIHsKICAgIHJldHVybiB7fTsKICB9IGVsc2UgewogICAgaWYgKCFpc1RvYXN0RGF0YU51bGwpIHsKICAgICAgaWYgKHRvYXN0RGF0YS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7CiAgICAgICAgZGF0YSA9IF9vYmplY3RTcHJlYWQoe30sIHRvYXN0RGF0YSk7CiAgICAgICAgcmV0dXJuIGRhdGE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGF0YVsnbWVzc2FnZSddID0gdG9hc3REYXRhICsgJyc7CiAgICAgIH0KICAgIH0KCiAgICBpZiAoIWlzVHlwZU51bGwpIHsKICAgICAgZGF0YVsndHlwZSddID0gdHlwZSArICcnOwogICAgfQoKICAgIGlmICghaXNEdXJhdGlvbk51bGwpIHsKICAgICAgaWYgKGR1cmF0aW9uLmNvbnN0cnVjdG9yID09PSBOdW1iZXIpIHsKICAgICAgICBkYXRhWyJkdXJhdGlvbiJdID0gZHVyYXRpb247CiAgICAgIH0KICAgIH0KICB9CgogIHJldHVybiBkYXRhOwp9OwoKdmFyIGpqX3RvYXN0ID0gZnVuY3Rpb24gampfdG9hc3QodG9hc3REYXRhLCB0eXBlLCBkdXJhdGlvbikgewogIHZhciBkYXRhID0gZ2V0RGF0YSh0b2FzdERhdGEsIHR5cGUsIGR1cmF0aW9uKTsKICB2YXIgdG9hc3RFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pqLXRvYXN0LWlkJyk7CgogIGlmICh0b2FzdEVsZW1lbnQpIHsKICAgIGlmIChqalRvYXN0LmpqX3RpbWUpIHsKICAgICAgY2xlYXJUaW1lb3V0KGpqVG9hc3QuampfdGltZSk7CiAgICB9IC8v56e76Zmk5bey5pyJ55qE5Yqg6L295qGGCgoKICAgIHRvYXN0RWxlbWVudC5yZW1vdmUoKTsKICB9CgogIHZhciBpbnN0YW5jZSA9IG5ldyBqalRvYXN0KHsKICAgIGRhdGE6IGRhdGEKICB9KTsKICAvKg0KICDlrprkuYnkuIDkuKppbnN0YWxsZWTlj5jph4/vvIzor6Xlj5jph4/kuLp0cnVl77yM5YaN5bCGYWxlcnTov5vooYzmjILovb3vvIzlm6DkuLrnrKzkuIDmrKHop6blj5Hor6VpbnN0YWxs5Ye95pWw77yMDQogIOaYr1Z1ZS5wcm90b3R5cGUuJGpqX3RvYXN0ID0gampUb2FzdC5pbnN0YWxs6LWL5YC85bCx6Kem5Y+R77yM6L+Z5Liq6LWL5YC85pON5L2c5LiN6ZyA6KaB5pi+56S65by556qX77yM5omA5LulaW5zdGFsbGVk5Y+Y6YeP5p2l5o6n5Yi2DQogIOazqOaEj+KaoO+4j++8muavj+asoeiwg+eUqHRoaXMuJGpqX3RvYXN06YO95Lya6Kem5Y+R6K+l5pa55rOVDQogICovCgogIGlmIChqalRvYXN0Lmluc3RhbGxlZCkgewogICAgaW5zdGFuY2UuJG1vdW50KCk7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGluc3RhbmNlLiRlbCk7CiAgICBqalRvYXN0LmpqX3RpbWUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgampUb2FzdC5qal90aW1lID0gbnVsbDsKICAgICAgaW5zdGFuY2UuY2xvc2UoKTsKICAgIH0sIGRhdGEuZHVyYXRpb24gKiAxMDAwKTsKICB9CgogIGpqVG9hc3QuaW5zdGFsbGVkID0gdHJ1ZTsKICByZXR1cm4gaW5zdGFuY2U7Cn07CgpqalRvYXN0Lmluc3RhbGwgPSBmdW5jdGlvbiAoZGF0YSkgewogIHJldHVybiBqal90b2FzdChkYXRhKTsKfTsKClZ1ZS5wcm90b3R5cGUuJGpqX3RvYXN0ID0gampfdG9hc3Q7CmV4cG9ydCBkZWZhdWx0IGpqVG9hc3Q7"},{"version":3,"sources":["/Users/weiqu/Documents/GitApp/jj-messagebox/src/jj-messagebox/toast/index.js"],"names":["Vue","toast","jjToast","extend","getData","toastData","type","duration","data","isToastDataNull","undefined","isTypeNull","isDurationNull","constructor","Object","Number","jj_toast","toastElement","document","getElementById","jj_time","clearTimeout","remove","instance","installed","$mount","body","appendChild","$el","setTimeout","close","install","prototype","$jj_toast"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,IAAIC,OAAO,GAAGF,GAAG,CAACG,MAAJ,CAAWF,KAAX,CAAd,C,CAAiC;;AAEjC,IAAIG,OAAO,GAAG,SAAVA,OAAU,CAASC,SAAT,EAAmBC,IAAnB,EAAwBC,QAAxB,EAAiC;AAC9C,MAAIC,IAAI,GAAG,EAAX;AACA,MAAMC,eAAe,GAAIJ,SAAS,KAAKK,SAAd,IAA2BL,SAAS,KAAK,IAAlE;AACA,MAAMM,UAAU,GAAIL,IAAI,KAAKI,SAAT,IAAsBJ,IAAI,KAAK,IAAnD;AACA,MAAMM,cAAc,GAAIL,QAAQ,KAAKG,SAAb,IAA0BH,QAAQ,KAAK,IAA/D;;AACA,MAAGE,eAAe,IAAEE,UAAjB,IAA6BC,cAAhC,EAA+C;AAC9C,WAAO,EAAP;AACA,GAFD,MAEK;AACJ,QAAI,CAACH,eAAL,EAAqB;AACpB,UAAIJ,SAAS,CAACQ,WAAV,KAA0BC,MAA9B,EAAsC;AACrCN,QAAAA,IAAI,qBACAH,SADA,CAAJ;AAGA,eAAOG,IAAP;AACA,OALD,MAKK;AACJA,QAAAA,IAAI,CAAC,SAAD,CAAJ,GAAkBH,SAAS,GAAC,EAA5B;AACA;AACD;;AAED,QAAG,CAACM,UAAJ,EAAe;AACdH,MAAAA,IAAI,CAAC,MAAD,CAAJ,GAAeF,IAAI,GAAG,EAAtB;AACA;;AACD,QAAG,CAACM,cAAJ,EAAmB;AAClB,UAAIL,QAAQ,CAACM,WAAT,KAAyBE,MAA7B,EAAoC;AACnCP,QAAAA,IAAI,CAAC,UAAD,CAAJ,GAAmBD,QAAnB;AACA;AACD;AACD;;AACD,SAAOC,IAAP;AACA,CA7BD;;AA+BA,IAAIQ,QAAQ,GAAG,SAAXA,QAAW,CAASX,SAAT,EAAmBC,IAAnB,EAAwBC,QAAxB,EAAkC;AAEhD,MAAIC,IAAI,GAAGJ,OAAO,CAACC,SAAD,EAAWC,IAAX,EAAgBC,QAAhB,CAAlB;AAEA,MAAIU,YAAY,GAAGC,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAnB;;AACA,MAAIF,YAAJ,EAAkB;AACjB,QAAIf,OAAO,CAACkB,OAAZ,EAAqB;AACpBC,MAAAA,YAAY,CAACnB,OAAO,CAACkB,OAAT,CAAZ;AACA,KAHgB,CAIjB;;;AACAH,IAAAA,YAAY,CAACK,MAAb;AACA;;AACD,MAAIC,QAAQ,GAAG,IAAIrB,OAAJ,CAAY;AAC1BM,IAAAA,IAAI,EAAJA;AAD0B,GAAZ,CAAf;AAIA;AACD;AACA;AACA;AACA;;AACC,MAAIN,OAAO,CAACsB,SAAZ,EAAuB;AACtBD,IAAAA,QAAQ,CAACE,MAAT;AACAP,IAAAA,QAAQ,CAACQ,IAAT,CAAcC,WAAd,CAA0BJ,QAAQ,CAACK,GAAnC;AACA1B,IAAAA,OAAO,CAACkB,OAAR,GAAkBS,UAAU,CAAC,YAAW;AACvC3B,MAAAA,OAAO,CAACkB,OAAR,GAAkB,IAAlB;AACAG,MAAAA,QAAQ,CAACO,KAAT;AACA,KAH2B,EAGzBtB,IAAI,CAACD,QAAL,GAAgB,IAHS,CAA5B;AAIA;;AACDL,EAAAA,OAAO,CAACsB,SAAR,GAAoB,IAApB;AACA,SAAOD,QAAP;AACA,CA/BD;;AAgCArB,OAAO,CAAC6B,OAAR,GAAkB,UAASvB,IAAT,EAAe;AAChC,SAAOQ,QAAQ,CAACR,IAAD,CAAf;AACA,CAFD;;AAMAR,GAAG,CAACgC,SAAJ,CAAcC,SAAd,GAA0BjB,QAA1B;AACA,eAAed,OAAf","sourcesContent":["import Vue from 'vue';\r\nimport toast from './jj-toast.vue';\r\nlet jjToast = Vue.extend(toast); //创建vm实例的构造函数\r\n\nlet getData = function(toastData,type,duration){\n\tlet data = {}\n\tconst isToastDataNull = (toastData === undefined || toastData === null)\n\tconst isTypeNull = (type === undefined || type === null)\n\tconst isDurationNull = (duration === undefined || duration === null)\n\tif(isToastDataNull&&isTypeNull&&isDurationNull){\n\t\treturn {}\n\t}else{\n\t\tif (!isToastDataNull){\n\t\t\tif (toastData.constructor === Object) {\n\t\t\t\tdata = {\n\t\t\t\t\t...toastData\n\t\t\t\t}\n\t\t\t\treturn data\n\t\t\t}else{\n\t\t\t\tdata['message'] = toastData+''\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(!isTypeNull){\n\t\t\tdata['type'] = type + ''\n\t\t}\n\t\tif(!isDurationNull){\n\t\t\tif (duration.constructor === Number){\n\t\t\t\tdata[\"duration\"] = duration\n\t\t\t}\n\t\t}\n\t}\n\treturn data\n}\n\r\nlet jj_toast = function(toastData,type,duration) {\r\n   \r\n\tlet data = getData(toastData,type,duration)\n\r\n\tlet toastElement = document.getElementById('jj-toast-id')\r\n\tif (toastElement) {\r\n\t\tif (jjToast.jj_time) {\r\n\t\t\tclearTimeout(jjToast.jj_time)\r\n\t\t}\r\n\t\t//移除已有的加载框\r\n\t\ttoastElement.remove()\r\n\t}\r\n\tlet instance = new jjToast({\r\n\t\tdata\r\n\t})\n\t\r\n\t/*\r\n\t定义一个installed变量，该变量为true，再将alert进行挂载，因为第一次触发该install函数，\r\n\t是Vue.prototype.$jj_toast = jjToast.install赋值就触发，这个赋值操作不需要显示弹窗，所以installed变量来控制\r\n\t注意⚠️：每次调用this.$jj_toast都会触发该方法\r\n\t*/\r\n\tif (jjToast.installed) {\r\n\t\tinstance.$mount()\r\n\t\tdocument.body.appendChild(instance.$el)\r\n\t\tjjToast.jj_time = setTimeout(function() {\r\n\t\t\tjjToast.jj_time = null\r\n\t\t\tinstance.close()\r\n\t\t}, data.duration * 1000)\r\n\t}\r\n\tjjToast.installed = true\r\n\treturn instance\r\n}\r\njjToast.install = function(data) {\r\n\treturn jj_toast(data)\r\n}\r\n\r\n\r\n\r\nVue.prototype.$jj_toast = jj_toast\r\nexport default jjToast\n"]}]}