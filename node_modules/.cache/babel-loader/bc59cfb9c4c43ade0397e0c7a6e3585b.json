{"remainingRequest":"/Users/weiqu/Documents/GitApp/jj-messagebox/node_modules/babel-loader/lib/index.js!/Users/weiqu/Documents/GitApp/jj-messagebox/node_modules/eslint-loader/index.js??ref--13-0!/Users/weiqu/Documents/GitApp/jj-messagebox/src/jj-messagebox/toast/index.js","dependencies":[{"path":"/Users/weiqu/Documents/GitApp/jj-messagebox/src/jj-messagebox/toast/index.js","mtime":1636349713465},{"path":"/Users/weiqu/Documents/GitApp/jj-messagebox/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weiqu/Documents/GitApp/jj-messagebox/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/weiqu/Documents/GitApp/jj-messagebox/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3dlaXF1L0RvY3VtZW50cy9HaXRBcHAvamotbWVzc2FnZWJveC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHRvYXN0IGZyb20gJy4vamotdG9hc3QudnVlJzsKdmFyIGpqVG9hc3QgPSBWdWUuZXh0ZW5kKHRvYXN0KTsgLy/liJvlu7p2beWunuS+i+eahOaehOmAoOWHveaVsAoKdmFyIGdldERhdGEgPSBmdW5jdGlvbiBnZXREYXRhKHRvYXN0RGF0YSwgdHlwZSwgZHVyYXRpb24pIHsKICB2YXIgZGF0YSA9IHt9OwogIHZhciBpc1RvYXN0RGF0YU51bGwgPSB0b2FzdERhdGEgPT09IHVuZGVmaW5lZCB8fCB0b2FzdERhdGEgPT09IG51bGw7CiAgdmFyIGlzVHlwZU51bGwgPSB0eXBlID09PSB1bmRlZmluZWQgfHwgdHlwZSA9PT0gbnVsbDsKICB2YXIgaXNEdXJhdGlvbk51bGwgPSBkdXJhdGlvbiA9PT0gdW5kZWZpbmVkIHx8IGR1cmF0aW9uID09PSBudWxsOwoKICBpZiAoaXNUb2FzdERhdGFOdWxsICYmIGlzVHlwZU51bGwgJiYgaXNEdXJhdGlvbk51bGwpIHsKICAgIHJldHVybiB7fTsKICB9IGVsc2UgewogICAgaWYgKCFpc1RvYXN0RGF0YU51bGwpIHsKICAgICAgaWYgKHRvYXN0RGF0YS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7CiAgICAgICAgZGF0YSA9IF9vYmplY3RTcHJlYWQoe30sIHRvYXN0RGF0YSk7CiAgICAgICAgcmV0dXJuIGRhdGE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZGF0YVsnbWVzc2FnZSddID0gdG9hc3REYXRhICsgJyc7CiAgICAgIH0KICAgIH0KCiAgICBpZiAoIWlzVHlwZU51bGwpIHsKICAgICAgZGF0YVsndHlwZSddID0gdHlwZSArICcnOwogICAgfQoKICAgIGlmICghaXNEdXJhdGlvbk51bGwpIHsKICAgICAgaWYgKGR1cmF0aW9uLmNvbnN0cnVjdG9yID09PSBOdW1iZXIpIHsKICAgICAgICBkYXRhWyJkdXJhdGlvbiJdID0gZHVyYXRpb247CiAgICAgIH0KICAgIH0KICB9CgogIHJldHVybiBkYXRhOwp9OwoKdmFyIGpqX3RvYXN0X2Nsb3NlID0gZnVuY3Rpb24gampfdG9hc3RfY2xvc2UoKSB7CiAgdmFyIHRvYXN0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqai10b2FzdC1pZCcpOwoKICBpZiAodG9hc3RFbGVtZW50KSB7CiAgICBpZiAoampUb2FzdC5qal90aW1lKSB7CiAgICAgIGNsZWFyVGltZW91dChqalRvYXN0LmpqX3RpbWUpOwogICAgfSAvL+enu+mZpOW3suacieeahOWKoOi9veahhgoKCiAgICB0b2FzdEVsZW1lbnQucmVtb3ZlKCk7CiAgfQp9OwoKdmFyIGpqX3RvYXN0ID0gZnVuY3Rpb24gampfdG9hc3QodG9hc3REYXRhLCB0eXBlLCBkdXJhdGlvbikgewogIHZhciBkYXRhID0gZ2V0RGF0YSh0b2FzdERhdGEsIHR5cGUsIGR1cmF0aW9uKTsgLy/np7vpmaTlt7LmnInnmoTliqDovb3moYYKCiAgampfdG9hc3RfY2xvc2UoKTsKICB2YXIgaW5zdGFuY2UgPSBuZXcgampUb2FzdCh7CiAgICBkYXRhOiBkYXRhCiAgfSk7CiAgLyoNCiAg5a6a5LmJ5LiA5LiqaW5zdGFsbGVk5Y+Y6YeP77yM6K+l5Y+Y6YeP5Li6dHJ1Ze+8jOWGjeWwhmFsZXJ06L+b6KGM5oyC6L2977yM5Zug5Li656ys5LiA5qyh6Kem5Y+R6K+laW5zdGFsbOWHveaVsO+8jA0KICDmmK9WdWUucHJvdG90eXBlLiRqal90b2FzdCA9IGpqVG9hc3QuaW5zdGFsbOi1i+WAvOWwseinpuWPke+8jOi/meS4qui1i+WAvOaTjeS9nOS4jemcgOimgeaYvuekuuW8ueeql++8jOaJgOS7pWluc3RhbGxlZOWPmOmHj+adpeaOp+WItg0KICDms6jmhI/imqDvuI/vvJrmr4/mrKHosIPnlKh0aGlzLiRqal90b2FzdOmDveS8muinpuWPkeivpeaWueazlQ0KICAqLwoKICBpZiAoampUb2FzdC5pbnN0YWxsZWQpIHsKICAgIGlmIChkYXRhLmlzQ2xvc2UgPT09IHRydWUgfHwgZGF0YS5kdXJhdGlvbiA9PT0gMCkgewogICAgICAvL+enu+mZpOW3suacieeahOWKoOi9veahhgogICAgICBqal90b2FzdF9jbG9zZSgpOwogICAgICByZXR1cm4gaW5zdGFuY2U7CiAgICB9CgogICAgaW5zdGFuY2UuJG1vdW50KCk7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGluc3RhbmNlLiRlbCk7CgogICAgaWYgKGRhdGEuZHVyYXRpb24gPiAwKSB7CiAgICAgIGpqVG9hc3QuampfdGltZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGpqVG9hc3QuampfdGltZSA9IG51bGw7CiAgICAgICAgaW5zdGFuY2UuY2xvc2UoKTsKICAgICAgfSwgZGF0YS5kdXJhdGlvbiAqIDEwMDApOwogICAgfQogIH0KCiAgampUb2FzdC5pbnN0YWxsZWQgPSB0cnVlOwogIHJldHVybiBpbnN0YW5jZTsKfTsKCmpqVG9hc3QuaW5zdGFsbCA9IGZ1bmN0aW9uIChkYXRhKSB7CiAgcmV0dXJuIGpqX3RvYXN0KGRhdGEpOwp9OwoKVnVlLnByb3RvdHlwZS4kampfdG9hc3QgPSBqal90b2FzdDsKZXhwb3J0IGRlZmF1bHQgampUb2FzdDs="},{"version":3,"sources":["/Users/weiqu/Documents/GitApp/jj-messagebox/src/jj-messagebox/toast/index.js"],"names":["Vue","toast","jjToast","extend","getData","toastData","type","duration","data","isToastDataNull","undefined","isTypeNull","isDurationNull","constructor","Object","Number","jj_toast_close","toastElement","document","getElementById","jj_time","clearTimeout","remove","jj_toast","instance","installed","isClose","$mount","body","appendChild","$el","setTimeout","close","install","prototype","$jj_toast"],"mappings":"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","sourcesContent":["import Vue from 'vue';\r\nimport toast from './jj-toast.vue';\r\nlet jjToast = Vue.extend(toast); //创建vm实例的构造函数\r\n\nlet getData = function(toastData,type,duration){\n\tlet data = {}\n\tconst isToastDataNull = (toastData === undefined || toastData === null)\n\tconst isTypeNull = (type === undefined || type === null)\n\tconst isDurationNull = (duration === undefined || duration === null)\n\tif(isToastDataNull&&isTypeNull&&isDurationNull){\n\t\treturn {}\n\t}else{\n\t\tif (!isToastDataNull){\n\t\t\tif (toastData.constructor === Object) {\n\t\t\t\tdata = {\n\t\t\t\t\t...toastData\n\t\t\t\t}\n\t\t\t\treturn data\n\t\t\t}else{\n\t\t\t\tdata['message'] = toastData+''\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(!isTypeNull){\n\t\t\tdata['type'] = type + ''\n\t\t}\n\t\tif(!isDurationNull){\n\t\t\tif (duration.constructor === Number){\n\t\t\t\tdata[\"duration\"] = duration\n\t\t\t}\n\t\t}\n\t}\n\treturn data\n}\n\nlet jj_toast_close = function(){\n\tlet toastElement = document.getElementById('jj-toast-id')\n\tif (toastElement) {\n\t\tif (jjToast.jj_time) {\n\t\t\tclearTimeout(jjToast.jj_time)\n\t\t}\n\t\t//移除已有的加载框\n\t\ttoastElement.remove()\n\t}\n}\n\r\nlet jj_toast = function(toastData,type,duration) {\r\n   \r\n\tlet data = getData(toastData,type,duration)\n    //移除已有的加载框\r\n\tjj_toast_close()\r\n\tlet instance = new jjToast({\r\n\t\tdata\r\n\t})\r\n\t/*\r\n\t定义一个installed变量，该变量为true，再将alert进行挂载，因为第一次触发该install函数，\r\n\t是Vue.prototype.$jj_toast = jjToast.install赋值就触发，这个赋值操作不需要显示弹窗，所以installed变量来控制\r\n\t注意⚠️：每次调用this.$jj_toast都会触发该方法\r\n\t*/\r\n\tif (jjToast.installed) {\n\t\tif (data.isClose === true || data.duration === 0){\n\t\t\t//移除已有的加载框\n\t\t\tjj_toast_close()\n\t\t\treturn instance\n\t\t}\r\n\t\tinstance.$mount()\r\n\t\tdocument.body.appendChild(instance.$el)\n\t\tif (data.duration > 0){\n\t\t\tjjToast.jj_time = setTimeout(function() {\n\t\t\t\tjjToast.jj_time = null\n\t\t\t\tinstance.close()\n\t\t\t}, data.duration * 1000)\n\t\t}\r\n\t}\r\n\tjjToast.installed = true\r\n\treturn instance\r\n}\r\njjToast.install = function(data) {\r\n\treturn jj_toast(data)\r\n}\r\n\r\n\r\n\r\nVue.prototype.$jj_toast = jj_toast\r\nexport default jjToast\n"]}]}