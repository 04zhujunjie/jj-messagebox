{"remainingRequest":"/Users/weiqu/Documents/GitApp/jj-messagebox/node_modules/thread-loader/dist/cjs.js!/Users/weiqu/Documents/GitApp/jj-messagebox/node_modules/babel-loader/lib/index.js!/Users/weiqu/Documents/GitApp/jj-messagebox/node_modules/eslint-loader/index.js??ref--13-0!/Users/weiqu/Documents/GitApp/jj-messagebox/src/packages/toast/index.js","dependencies":[{"path":"/Users/weiqu/Documents/GitApp/jj-messagebox/src/packages/toast/index.js","mtime":1635993167210},{"path":"/Users/weiqu/Documents/GitApp/jj-messagebox/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weiqu/Documents/GitApp/jj-messagebox/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weiqu/Documents/GitApp/jj-messagebox/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/weiqu/Documents/GitApp/jj-messagebox/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3dlaXF1L0RvY3VtZW50cy9HaXRBcHAvamotbWVzc2FnZWJveC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHRvYXN0IGZyb20gJy4vamotdG9hc3QudnVlJzsKdmFyIGpqVG9hc3QgPSBWdWUuZXh0ZW5kKHRvYXN0KTsgLy/liJvlu7p2beWunuS+i+eahOaehOmAoOWHveaVsAoKdmFyIGpqX3RvYXN0ID0gZnVuY3Rpb24gampfdG9hc3QodG9hc3REYXRhKSB7CiAgdmFyIGRhdGEgPSB7fTsKCiAgaWYgKHRvYXN0RGF0YSA9PT0gdW5kZWZpbmVkIHx8IHRvYXN0RGF0YSA9PT0gbnVsbCkgewogICAgcmV0dXJuOwogIH0gZWxzZSB7CiAgICBpZiAodG9hc3REYXRhLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHsKICAgICAgZGF0YSA9IF9vYmplY3RTcHJlYWQoe30sIHRvYXN0RGF0YSk7CiAgICB9IGVsc2UgewogICAgICBkYXRhID0gewogICAgICAgICJtZXNzYWdlIjogdG9hc3REYXRhICsgJycKICAgICAgfTsKICAgIH0KICB9CgogIHZhciB0b2FzdEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnamotdG9hc3QtaWQnKTsKCiAgaWYgKHRvYXN0RWxlbWVudCkgewogICAgaWYgKGpqVG9hc3QuampfdGltZSkgewogICAgICBjbGVhclRpbWVvdXQoampUb2FzdC5qal90aW1lKTsKICAgIH0gLy/np7vpmaTlt7LmnInnmoTliqDovb3moYYKCgogICAgdG9hc3RFbGVtZW50LnJlbW92ZSgpOwogIH0KCiAgdmFyIGluc3RhbmNlID0gbmV3IGpqVG9hc3QoewogICAgZGF0YTogZGF0YQogIH0pOwogIC8qDQogIOWumuS5ieS4gOS4qmluc3RhbGxlZOWPmOmHj++8jOivpeWPmOmHj+S4unRydWXvvIzlho3lsIZhbGVydOi/m+ihjOaMgui9ve+8jOWboOS4uuesrOS4gOasoeinpuWPkeivpWluc3RhbGzlh73mlbDvvIwNCiAg5pivVnVlLnByb3RvdHlwZS4kampfdG9hc3QgPSBqalRvYXN0Lmluc3RhbGzotYvlgLzlsLHop6blj5HvvIzov5nkuKrotYvlgLzmk43kvZzkuI3pnIDopoHmmL7npLrlvLnnqpfvvIzmiYDku6VpbnN0YWxsZWTlj5jph4/mnaXmjqfliLYNCiAg5rOo5oSP4pqg77iP77ya5q+P5qyh6LCD55SodGhpcy4kampfdG9hc3Tpg73kvJrop6blj5Hor6Xmlrnms5UNCiAgKi8KCiAgaWYgKGpqVG9hc3QuaW5zdGFsbGVkKSB7CiAgICBpbnN0YW5jZS4kbW91bnQoKTsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW5zdGFuY2UuJGVsKTsKICAgIGpqVG9hc3QuampfdGltZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBqalRvYXN0LmpqX3RpbWUgPSBudWxsOwogICAgICBpbnN0YW5jZS5jbG9zZSgpOwogICAgfSwgZGF0YS5kdXJhdGlvbiAqIDEwMDApOwogIH0KCiAgampUb2FzdC5pbnN0YWxsZWQgPSB0cnVlOwogIHJldHVybiBpbnN0YW5jZTsKfTsKCmpqVG9hc3QuaW5zdGFsbCA9IGZ1bmN0aW9uIChkYXRhKSB7CiAgcmV0dXJuIGpqX3RvYXN0KGRhdGEpOwp9OwoKVnVlLnByb3RvdHlwZS4kampfdG9hc3QgPSBqal90b2FzdDsKZXhwb3J0IGRlZmF1bHQgampUb2FzdDs="},{"version":3,"sources":["/Users/weiqu/Documents/GitApp/jj-messagebox/src/packages/toast/index.js"],"names":["Vue","toast","jjToast","extend","jj_toast","toastData","data","undefined","constructor","Object","toastElement","document","getElementById","jj_time","clearTimeout","remove","instance","installed","$mount","body","appendChild","$el","setTimeout","close","duration","install","prototype","$jj_toast"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,IAAIC,OAAO,GAAGF,GAAG,CAACG,MAAJ,CAAWF,KAAX,CAAd,C,CAAiC;;AAEjC,IAAIG,QAAQ,GAAG,SAAXA,QAAW,CAASC,SAAT,EAAoB;AAElC,MAAIC,IAAI,GAAG,EAAX;;AACA,MAAGD,SAAS,KAAKE,SAAd,IAA2BF,SAAS,KAAK,IAA5C,EAAiD;AAChD;AACA,GAFD,MAEK;AACJ,QAAIA,SAAS,CAACG,WAAV,KAA0BC,MAA9B,EAAsC;AACrCH,MAAAA,IAAI,qBACAD,SADA,CAAJ;AAGA,KAJD,MAIK;AACJC,MAAAA,IAAI,GAAG;AACN,mBAAWD,SAAS,GAAC;AADf,OAAP;AAGA;AACD;;AACD,MAAIK,YAAY,GAAGC,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAnB;;AACA,MAAIF,YAAJ,EAAkB;AACjB,QAAIR,OAAO,CAACW,OAAZ,EAAqB;AACpBC,MAAAA,YAAY,CAACZ,OAAO,CAACW,OAAT,CAAZ;AACA,KAHgB,CAIjB;;;AACAH,IAAAA,YAAY,CAACK,MAAb;AACA;;AACD,MAAIC,QAAQ,GAAG,IAAId,OAAJ,CAAY;AAC1BI,IAAAA,IAAI,EAAJA;AAD0B,GAAZ,CAAf;AAIA;AACD;AACA;AACA;AACA;;AACC,MAAIJ,OAAO,CAACe,SAAZ,EAAuB;AACtBD,IAAAA,QAAQ,CAACE,MAAT;AACAP,IAAAA,QAAQ,CAACQ,IAAT,CAAcC,WAAd,CAA0BJ,QAAQ,CAACK,GAAnC;AACAnB,IAAAA,OAAO,CAACW,OAAR,GAAkBS,UAAU,CAAC,YAAW;AACvCpB,MAAAA,OAAO,CAACW,OAAR,GAAkB,IAAlB;AACAG,MAAAA,QAAQ,CAACO,KAAT;AACA,KAH2B,EAGzBjB,IAAI,CAACkB,QAAL,GAAgB,IAHS,CAA5B;AAIA;;AACDtB,EAAAA,OAAO,CAACe,SAAR,GAAoB,IAApB;AACA,SAAOD,QAAP;AACA,CA3CD;;AA4CAd,OAAO,CAACuB,OAAR,GAAkB,UAASnB,IAAT,EAAe;AAChC,SAAOF,QAAQ,CAACE,IAAD,CAAf;AACA,CAFD;;AAMAN,GAAG,CAAC0B,SAAJ,CAAcC,SAAd,GAA0BvB,QAA1B;AACA,eAAeF,OAAf","sourcesContent":["import Vue from 'vue';\r\nimport toast from './jj-toast.vue';\r\nlet jjToast = Vue.extend(toast); //创建vm实例的构造函数\r\n\r\nlet jj_toast = function(toastData) {\r\n   \r\n\tlet data = {}\n\tif(toastData === undefined || toastData === null){\n\t\treturn\n\t}else{\n\t\tif (toastData.constructor === Object) {\n\t\t\tdata = {\n\t\t\t\t...toastData\n\t\t\t}\n\t\t}else{\n\t\t\tdata = {\n\t\t\t\t\"message\": toastData+'',\n\t\t\t}\n\t\t}\n\t}\r\n\tlet toastElement = document.getElementById('jj-toast-id')\r\n\tif (toastElement) {\r\n\t\tif (jjToast.jj_time) {\r\n\t\t\tclearTimeout(jjToast.jj_time)\r\n\t\t}\r\n\t\t//移除已有的加载框\r\n\t\ttoastElement.remove()\r\n\t}\r\n\tlet instance = new jjToast({\r\n\t\tdata\r\n\t})\n\t\r\n\t/*\r\n\t定义一个installed变量，该变量为true，再将alert进行挂载，因为第一次触发该install函数，\r\n\t是Vue.prototype.$jj_toast = jjToast.install赋值就触发，这个赋值操作不需要显示弹窗，所以installed变量来控制\r\n\t注意⚠️：每次调用this.$jj_toast都会触发该方法\r\n\t*/\r\n\tif (jjToast.installed) {\r\n\t\tinstance.$mount()\r\n\t\tdocument.body.appendChild(instance.$el)\r\n\t\tjjToast.jj_time = setTimeout(function() {\r\n\t\t\tjjToast.jj_time = null\r\n\t\t\tinstance.close()\r\n\t\t}, data.duration * 1000)\r\n\t}\r\n\tjjToast.installed = true\r\n\treturn instance\r\n}\r\njjToast.install = function(data) {\r\n\treturn jj_toast(data)\r\n}\r\n\r\n\r\n\r\nVue.prototype.$jj_toast = jj_toast\r\nexport default jjToast\n"]}]}