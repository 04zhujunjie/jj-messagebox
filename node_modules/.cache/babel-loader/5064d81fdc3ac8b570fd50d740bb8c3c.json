{"remainingRequest":"/Users/weiqu/Documents/GitApp/jj-messagebox/node_modules/babel-loader/lib/index.js!/Users/weiqu/Documents/GitApp/jj-messagebox/node_modules/eslint-loader/index.js??ref--13-0!/Users/weiqu/Documents/GitApp/jj-messagebox/src/packages/toast/index.js","dependencies":[{"path":"/Users/weiqu/Documents/GitApp/jj-messagebox/src/packages/toast/index.js","mtime":1635919342508},{"path":"/Users/weiqu/Documents/GitApp/jj-messagebox/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weiqu/Documents/GitApp/jj-messagebox/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/weiqu/Documents/GitApp/jj-messagebox/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3dlaXF1L0RvY3VtZW50cy9HaXRBcHAvamotbWVzc2FnZWJveC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHRvYXN0IGZyb20gJy4vamotdG9hc3QudnVlJzsKdmFyIGpqVG9hc3QgPSBWdWUuZXh0ZW5kKHRvYXN0KTsgLy/liJvlu7p2beWunuS+i+eahOaehOmAoOWHveaVsAoKampUb2FzdC5qal90b2FzdCA9IGZ1bmN0aW9uICh0b2FzdERhdGEpIHsKICB2YXIgZGF0YSA9IHt9OwoKICBpZiAodG9hc3REYXRhID09PSB1bmRlZmluZWQgfHwgdG9hc3REYXRhID09PSBudWxsKSB7CiAgICByZXR1cm47CiAgfSBlbHNlIHsKICAgIGlmICh0b2FzdERhdGEuY29uc3RydWN0b3IgPT09IE9iamVjdCkgewogICAgICBkYXRhID0gX29iamVjdFNwcmVhZCh7fSwgdG9hc3REYXRhKTsKICAgIH0gZWxzZSB7CiAgICAgIGRhdGEgPSB7CiAgICAgICAgIm1lc3NhZ2UiOiB0b2FzdERhdGEgKyAnJwogICAgICB9OwogICAgfQogIH0KCiAgdmFyIHRvYXN0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqai10b2FzdC1pZCcpOwoKICBpZiAodG9hc3RFbGVtZW50KSB7CiAgICBpZiAoampUb2FzdC5qal90aW1lKSB7CiAgICAgIGNsZWFyVGltZW91dChqalRvYXN0LmpqX3RpbWUpOwogICAgfSAvL+enu+mZpOW3suacieeahOWKoOi9veahhgoKCiAgICB0b2FzdEVsZW1lbnQucmVtb3ZlKCk7CiAgfQoKICB2YXIgaW5zdGFuY2UgPSBuZXcgampUb2FzdCh7CiAgICBkYXRhOiBkYXRhCiAgfSk7CiAgLyoNCiAg5a6a5LmJ5LiA5LiqaW5zdGFsbGVk5Y+Y6YeP77yM6K+l5Y+Y6YeP5Li6dHJ1Ze+8jOWGjeWwhmFsZXJ06L+b6KGM5oyC6L2977yM5Zug5Li656ys5LiA5qyh6Kem5Y+R6K+laW5zdGFsbOWHveaVsO+8jA0KICDmmK9WdWUucHJvdG90eXBlLiRqal90b2FzdCA9IGpqVG9hc3QuaW5zdGFsbOi1i+WAvOWwseinpuWPke+8jOi/meS4qui1i+WAvOaTjeS9nOS4jemcgOimgeaYvuekuuW8ueeql++8jOaJgOS7pWluc3RhbGxlZOWPmOmHj+adpeaOp+WItg0KICDms6jmhI/imqDvuI/vvJrmr4/mrKHosIPnlKh0aGlzLiRqal90b2FzdOmDveS8muinpuWPkeivpeaWueazlQ0KICAqLwoKICBpZiAoampUb2FzdC5pbnN0YWxsZWQpIHsKICAgIGluc3RhbmNlLiRtb3VudCgpOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbnN0YW5jZS4kZWwpOwogICAgampUb2FzdC5qal90aW1lID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIGpqVG9hc3QuampfdGltZSA9IG51bGw7CiAgICAgIGluc3RhbmNlLmNsb3NlKCk7CiAgICB9LCBkYXRhLmR1cmF0aW9uICogMTAwMCk7CiAgfQoKICBqalRvYXN0Lmluc3RhbGxlZCA9IHRydWU7CiAgcmV0dXJuIGluc3RhbmNlOwp9OwoKampUb2FzdC5pbnN0YWxsID0gZnVuY3Rpb24gKGRhdGEpIHsKICByZXR1cm4gampUb2FzdC5qal90b2FzdChkYXRhKTsKfTsKClZ1ZS5wcm90b3R5cGUuJGpqX3RvYXN0ID0gampUb2FzdC5qal90b2FzdDsKZXhwb3J0IGRlZmF1bHQgampUb2FzdDs="},{"version":3,"sources":["/Users/weiqu/Documents/GitApp/jj-messagebox/src/packages/toast/index.js"],"names":["Vue","toast","jjToast","extend","jj_toast","toastData","data","undefined","constructor","Object","toastElement","document","getElementById","jj_time","clearTimeout","remove","instance","installed","$mount","body","appendChild","$el","setTimeout","close","duration","install","prototype","$jj_toast"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,IAAIC,OAAO,GAAGF,GAAG,CAACG,MAAJ,CAAWF,KAAX,CAAd,C,CAAiC;;AAEjCC,OAAO,CAACE,QAAR,GAAmB,UAASC,SAAT,EAAoB;AAEtC,MAAIC,IAAI,GAAG,EAAX;;AACA,MAAGD,SAAS,KAAKE,SAAd,IAA2BF,SAAS,KAAK,IAA5C,EAAiD;AAChD;AACA,GAFD,MAEK;AACJ,QAAIA,SAAS,CAACG,WAAV,KAA0BC,MAA9B,EAAsC;AACrCH,MAAAA,IAAI,qBACAD,SADA,CAAJ;AAGA,KAJD,MAIK;AACJC,MAAAA,IAAI,GAAG;AACN,mBAAWD,SAAS,GAAC;AADf,OAAP;AAGA;AACD;;AACD,MAAIK,YAAY,GAAGC,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAAnB;;AACA,MAAIF,YAAJ,EAAkB;AACjB,QAAIR,OAAO,CAACW,OAAZ,EAAqB;AACpBC,MAAAA,YAAY,CAACZ,OAAO,CAACW,OAAT,CAAZ;AACA,KAHgB,CAIjB;;;AACAH,IAAAA,YAAY,CAACK,MAAb;AACA;;AACD,MAAIC,QAAQ,GAAG,IAAId,OAAJ,CAAY;AAC1BI,IAAAA,IAAI,EAAJA;AAD0B,GAAZ,CAAf;AAIA;AACD;AACA;AACA;AACA;;AACC,MAAIJ,OAAO,CAACe,SAAZ,EAAuB;AACtBD,IAAAA,QAAQ,CAACE,MAAT;AACAP,IAAAA,QAAQ,CAACQ,IAAT,CAAcC,WAAd,CAA0BJ,QAAQ,CAACK,GAAnC;AACAnB,IAAAA,OAAO,CAACW,OAAR,GAAkBS,UAAU,CAAC,YAAW;AACvCpB,MAAAA,OAAO,CAACW,OAAR,GAAkB,IAAlB;AACAG,MAAAA,QAAQ,CAACO,KAAT;AACA,KAH2B,EAGzBjB,IAAI,CAACkB,QAAL,GAAgB,IAHS,CAA5B;AAIA;;AACDtB,EAAAA,OAAO,CAACe,SAAR,GAAoB,IAApB;AACA,SAAOD,QAAP;AACA,CA3CD;;AA4CAd,OAAO,CAACuB,OAAR,GAAkB,UAASnB,IAAT,EAAe;AAChC,SAAOJ,OAAO,CAACE,QAAR,CAAiBE,IAAjB,CAAP;AACA,CAFD;;AAMAN,GAAG,CAAC0B,SAAJ,CAAcC,SAAd,GAA0BzB,OAAO,CAACE,QAAlC;AACA,eAAeF,OAAf","sourcesContent":["import Vue from 'vue';\r\nimport toast from './jj-toast.vue';\r\nlet jjToast = Vue.extend(toast); //创建vm实例的构造函数\r\n\r\njjToast.jj_toast = function(toastData) {\r\n   \r\n\tlet data = {}\n\tif(toastData === undefined || toastData === null){\n\t\treturn\n\t}else{\n\t\tif (toastData.constructor === Object) {\n\t\t\tdata = {\n\t\t\t\t...toastData\n\t\t\t}\n\t\t}else{\n\t\t\tdata = {\n\t\t\t\t\"message\": toastData+'',\n\t\t\t}\n\t\t}\n\t}\r\n\tlet toastElement = document.getElementById('jj-toast-id')\r\n\tif (toastElement) {\r\n\t\tif (jjToast.jj_time) {\r\n\t\t\tclearTimeout(jjToast.jj_time)\r\n\t\t}\r\n\t\t//移除已有的加载框\r\n\t\ttoastElement.remove()\r\n\t}\r\n\tlet instance = new jjToast({\r\n\t\tdata\r\n\t})\n\t\r\n\t/*\r\n\t定义一个installed变量，该变量为true，再将alert进行挂载，因为第一次触发该install函数，\r\n\t是Vue.prototype.$jj_toast = jjToast.install赋值就触发，这个赋值操作不需要显示弹窗，所以installed变量来控制\r\n\t注意⚠️：每次调用this.$jj_toast都会触发该方法\r\n\t*/\r\n\tif (jjToast.installed) {\r\n\t\tinstance.$mount()\r\n\t\tdocument.body.appendChild(instance.$el)\r\n\t\tjjToast.jj_time = setTimeout(function() {\r\n\t\t\tjjToast.jj_time = null\r\n\t\t\tinstance.close()\r\n\t\t}, data.duration * 1000)\r\n\t}\r\n\tjjToast.installed = true\r\n\treturn instance\r\n}\r\njjToast.install = function(data) {\r\n\treturn jjToast.jj_toast(data)\r\n}\r\n\r\n\r\n\r\nVue.prototype.$jj_toast = jjToast.jj_toast\r\nexport default jjToast\n"]}]}